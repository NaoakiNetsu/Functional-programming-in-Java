### Callback とは？
「関数の実行中に、実行される関数」を**コールバック関数**と呼びます。

実装方法は、ある関数の引数としてコールバック関数を渡すことで、任意のタイミングでコールバック関数を実行させることができます。  
「あの処理が終わった後に、この関数を実行したい」などが実現できます。

参考①：[JavaScriptコールバックを整理してみた【再入門】](https://qiita.com/nekoneko-wanwan/items/f6979f687246ba089a35)

### どんな時に使われるのか？
まず、前提としてJavascript は基本的<sup>[※](#ref1)</sup>には並列処理を行えません。すなわち、何かしらの重い処理を実行している間は完了されるまで待ち続ける必要があるということです。  
ここでいう「**重い処理**」とはサーバサイドへのリクエストおよびレスポンスを必要とする処理などを指します。

サーバからのレスポンスを待っている間、クライアントが動かないのでは困ります。そこで、重たい処理は一旦無視して処理を完了させて、重たい処理が完了したタイミングで続きの処理を実行する「**非同期処理**」という仕組みが考え出されました。

そして、この"続きの処理"を記述した関数が**コールバック関数**なのです。

もちろん、非同期処理を行いたいときにコールバックをよく使われるのですが、単純に後で関数を実行したいときなど、**非同期処理以外の場面でも活用する**ことはできます。  
例えば、引数としてコールバック関数を受け取る関数を用意しておき、その関数の呼び出し方（引数に何を渡すか）によって結果を変えれるようにするなどが考えられます。

<a name="ref1"></a>※ [Web Workers](https://ja.wikipedia.org/wiki/Web_Worker)と呼ばれるAPIを用いることでマルチスレッドでの処理を実現できます。

参考②：[JavaScriptの同期、非同期、コールバック、プロミス辺りを整理してみる](https://qiita.com/YoshikiNakamura/items/732ded26c85a7f771a27)

### 実装方法
コールバック関数を用いた処理を実装してみます（参考②のほとんど~~パクリ~~オマージュですが）。

500円でリンゴを買ったとき、500円もらったことを表示して、サーバサイドでおつりを計算して表示するようなプログラムを考えます。
```Javascript
//asyncBuyApple 関数の定義
var asyncBuyApple = function(payment, callback){
  //setTimeout 関数を用いて以下の処理を非同期処理としている
  setTimeout(function(){
    //calcService のcalc 関数はサーバ側にリクエストを投げて、おつりを返す関数
    change = calcService.calc(payment);
    //callback 関数を呼び出す
    callback(change);
  }, 0);
}

//関数の呼び出し
//第二引数のcallback 関数には無名関数を定義して渡している
asyncBuyApple(500, function(change) {
    console.log('おつりは' + change + '円です。');
});
console.log('500円いただきました。');

//出力結果
//500円いただきました。
//おつりは〇〇円です。
```

まずは、asyncBuyApple 関数を定義しています。この関数は第一引数に支払われた金額、第二引数にコールバック関数を受け取り、[setTimeout](https://developer.mozilla.org/ja/docs/Web/API/WindowTimers/setTimeout) 関数を用いて非同期処理を定義しています。  
非同期処理の具体的な内容は、calcService のcalc 関数はサーバ側にリクエストを投げて、返却されたおつりを変数change に代入します。そして、change を引数としてcallback 関数を実行するという処理になります。

最後に、上で定義したasyncBuyApple 関数を呼び出します。第一引数には支払われた金額500円、第二引数にはコールバック関数を渡しています<sup>[※](#ref2)</sup>。




a name="ref2"></a>※ 
